{"componentChunkName":"component---src-templates-post-js","path":"/blog/2021-4-10-rec-v-sense-anomaly/rec-q-can-comms-voltage-sense-anomaly/","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"type\": \"post\",\n  \"section\": \"blog\",\n  \"categories\": [\"electrical\"],\n  \"navTitle\": null,\n  \"title\": \"REC Q CAN Comms Voltage Sense Anomaly\",\n  \"author\": \"Nate\",\n  \"date\": \"2021-04-10T00:00:00.000Z\",\n  \"tags\": [\"electrical\", \"test\", \"bms\", \"battery\"],\n  \"metatags\": null,\n  \"cover\": {\n    \"img\": \"rec-q-can-comms-voltage-sense-anomaly.jpg\"\n  },\n  \"tldr\": \"We discovered an anomaly with BMS cell voltage measurements during benchtop testing.  With the help of REC we found it was an issue with our battery simulator, which we resolved.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"style\", {\n    \"className\": \"grvsc-styles\"\n  }, \"\\n  .grvsc-container {\\n    overflow: auto;\\n    position: relative;\\n    -webkit-overflow-scrolling: touch;\\n    padding-top: 1rem;\\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\\n    padding-bottom: 1rem;\\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\\n    border-radius: 8px;\\n    border-radius: var(--grvsc-border-radius, 8px);\\n    font-feature-settings: normal;\\n    line-height: 1.4;\\n  }\\n  \\n  .grvsc-code {\\n    display: table;\\n  }\\n  \\n  .grvsc-line {\\n    display: table-row;\\n    box-sizing: border-box;\\n    width: 100%;\\n    position: relative;\\n  }\\n  \\n  .grvsc-line > * {\\n    position: relative;\\n  }\\n  \\n  .grvsc-gutter-pad {\\n    display: table-cell;\\n    padding-left: 0.75rem;\\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\\n  }\\n  \\n  .grvsc-gutter {\\n    display: table-cell;\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    user-select: none;\\n  }\\n  \\n  .grvsc-gutter::before {\\n    content: attr(data-content);\\n  }\\n  \\n  .grvsc-source {\\n    display: table-cell;\\n    padding-left: 1.5rem;\\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\\n    padding-right: 1.5rem;\\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\\n  }\\n  \\n  .grvsc-source:empty::after {\\n    content: ' ';\\n    -webkit-user-select: none;\\n    -moz-user-select: none;\\n    user-select: none;\\n  }\\n  \\n  .grvsc-gutter + .grvsc-source {\\n    padding-left: 0.75rem;\\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\\n  }\\n  \\n  /* Line transformer styles */\\n  \\n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\\n    content: ' ';\\n    position: absolute;\\n    width: 100%;\\n  }\\n  \\n  .grvsc-line-diff-add::before {\\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\\n  }\\n  \\n  .grvsc-line-diff-del::before {\\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\\n  }\\n  \\n  .grvsc-line-number {\\n    padding: 0 2px;\\n    text-align: right;\\n    opacity: 0.7;\\n  }\\n  \\n\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"TLDR: We discovered an anomaly with BMS cell voltage measurements during benchtop testing.  With the help of REC we found it was an issue with our battery simulator, which we resolved.\")), mdx(\"h3\", null, \"Wringing out the REC Q BMS\"), mdx(\"p\", null, \"I'm operating the BMS without a battery for now, and instead with something simulating a battery which I call a \\\"battery simulator\\\".  The primary reason is that my cells haven't arrived.  The secondary reason is it allows me to verify the protection setpoints and actions prior to hooking it up to cells and relying on those protections.  The tertiary reason is it allows me to work on decoding the CAN and RS-485 comms without it being hooked up to a real battery.\"), mdx(\"h3\", null, \"The Battery Simulator\"), mdx(\"p\", null, \"The battery simulator is simply a power supply and a voltage divider of 2.4kOhm resistors that simulate cells.  One of these is actually a potentiometer which allows simulation of a high or low voltage cell by changing the resistance.  Between at each resistor are taps that are used to wire up the BMS per the manual.  By applying ~26V to the voltage divider, the BMS is powered and sees 8 cells with a nominal LFP voltage.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/8679b4733be3237640a2a1861f1524ad/f537d/battery-simulator.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"139.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAcABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAe6oKEQ0g//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEAAQUCT//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABQQAQAAAAAAAAAAAAAAAAAAADD/2gAIAQEABj8CT//EABkQAAIDAQAAAAAAAAAAAAAAAAABEBFBUf/aAAgBAQABPyG3wwSfTHZkYKHFn//aAAwDAQACAAMAAAAQQMM8/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAGxABAAMBAQEBAAAAAAAAAAAAAQARMSFRQYH/2gAIAQEAAT8QbfGX+bG7IW1EFq78DJ3AeQ4Gl4QyO4xBPDtQgOMzJaf/2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"battery simulator\",\n    \"title\": \"battery simulator\",\n    \"src\": \"/static/8679b4733be3237640a2a1861f1524ad/4b190/battery-simulator.jpg\",\n    \"srcSet\": [\"/static/8679b4733be3237640a2a1861f1524ad/e07e9/battery-simulator.jpg 200w\", \"/static/8679b4733be3237640a2a1861f1524ad/066f9/battery-simulator.jpg 400w\", \"/static/8679b4733be3237640a2a1861f1524ad/4b190/battery-simulator.jpg 800w\", \"/static/8679b4733be3237640a2a1861f1524ad/f537d/battery-simulator.jpg 854w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"h3\", null, \"The Anomaly\"), mdx(\"p\", null, \"When monitoring CANBus communications, I noticed that it was reporting a max cell voltage that was much higher than any direct cell measurement using a voltmeter.  By manipulation of the circuit I was able to verify that it is Cell 8 that the BMS is reporting high (individual cell voltages are not available over CAN at this point).  All other cells seem to track (CAN reported min cell voltage aligns with a DMM measurement and by making Cell 1 the high cell I can verify it tracks).  Likewise, the overall pack voltage reported by CAN is also higher than direct measurement, by about the same amount that Cell 1 reads high.\"), mdx(\"p\", null, \"Specific Measurements:\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 8 Voltage via CANBus\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.411V\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Cell 8 Voltage via DMM\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"3.289V\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Delta\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"0.122V\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Design Accuracy\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"0.003V\"))))), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 3 Voltage via CANBus\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.171V\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Cell 3 Voltage via DMM\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"3.185V\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Delta\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"0.014V\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Design Accuracy\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"0.003V\"))))), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Pack Voltage via CANBus\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"26.1V\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Pack Voltage via DMM\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"25.96V\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Delta\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"0.14V\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"Design Accuracy\")), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, mdx(\"strong\", {\n    parentName: \"td\"\n  }, \"0.006V\"))))), mdx(\"h3\", null, \"Other observations of unknown relevance\"), mdx(\"p\", null, \"Resistors read about 2.1KOhm with the BMS connected.\"), mdx(\"p\", null, \"Current into Pack+ is 45\\xB5A with the BMS off.\"), mdx(\"p\", null, \"Current into Pack+ is 7.9-8.8mA with the BMS on.\"), mdx(\"p\", null, \"Current into Cell 8+ is 0\\xB5A with the BMS off.\"), mdx(\"p\", null, \"Current into Cell 8+ is generally 0\\xB5A with the BMS on, \"), mdx(\"p\", null, \"Current into Cell 8+ reads 4.47\\xB5A every few seconds (86.04\\xB5A in peak mode) with the BMS on.\"), mdx(\"p\", null, \"Current into Cell 1+ is 81.3\\xB5A with the BMS off (Assuming this is a low power sleep function).\"), mdx(\"p\", null, \"Current into Cell 1+ is generally 0\\xB5A with the BMS on.\"), mdx(\"p\", null, \"Current into Cell 1+ reads 0.54\\xB5A every few seconds (13.05\\xB5A in peak mode) with the BMS on.\"), mdx(\"h3\", null, \"Conclusions\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"All Good.  REC responded with good advice and the discrepancy is gone.  See update at the end for more.\")), mdx(\"p\", null, mdx(\"del\", {\n    parentName: \"p\"\n  }, \"Not many at this point.  My primary concern is that this voltage discrepancy would also present with real batteries.  There's nothing I can think of with the approach of simulating that would make a difference.  \", mdx(\"strong\", {\n    parentName: \"del\"\n  }, \"Such a large discrepency will hinder performance as the high cell would skew end of charge and balancing and could lead to spurious over voltage protections.  The BMS did take high cell actions based on the CAN indicated voltage vice actual voltage, so this is not just a reporting/indication problem.\"))), mdx(\"p\", null, \"Next steps are to contact REC with all this information as well as working on RS-485 comms to see all cell voltages and get a broader sense of accuracy.\"), mdx(\"h3\", null, \"Update 2021-4-11\"), mdx(\"p\", null, \"I hooked up the REC Wi-Fi Module to get more granularity on cell voltages and see if it might provide some clues.  Note to future self, I changed the default IP to \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"192.168.2.99\"), \" in case forget.\"), mdx(\"p\", null, \"The home page shows the same max cell voltage discrepancy as the CAN data.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/a8586/wifi-module-home.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"110.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMCBQH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHoz6HpJQZyFAf/xAAbEAACAgMBAAAAAAAAAAAAAAABAgADBBAiQf/aAAgBAQABBQJqXZhj2SsFF811AHEE/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHhAAAgEDBQAAAAAAAAAAAAAAAQIAERNBICE0UWH/2gAIAQEABj8CLXmUdTkPKFi3p0YmDN5//8QAHRAAAgICAwEAAAAAAAAAAAAAAAERMSFhQVFxsf/aAAgBAQABPyFSHDpSGbQTnKYL6MSjl+jhWGyYl+gj6To//9oADAMBAAIAAwAAABCDyDz/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAeEAEAAgICAwEAAAAAAAAAAAABABEhMVFhQZGx8P/aAAgBAQABPxBrUK0GuepluoHZ7lspOZHM29r7NjFmIft0QIhdlLNzYCbLODjUrrkNvhP/2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"wifi module home\",\n    \"title\": \"wifi module home\",\n    \"src\": \"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/4b190/wifi-module-home.jpg\",\n    \"srcSet\": [\"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/e07e9/wifi-module-home.jpg 200w\", \"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/066f9/wifi-module-home.jpg 400w\", \"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/4b190/wifi-module-home.jpg 800w\", \"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/e5166/wifi-module-home.jpg 1200w\", \"/static/64bdb9e9a2c5a8e4df5fd94b8c12754c/a8586/wifi-module-home.jpg 1224w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"del\", {\n    parentName: \"p\"\n  }, \"The voltage (and impedance) page don't show cell 8 at all.  Only cells 1-7.  Whether this is related or a different problem I can not say.  The voltages that are shown do match the DMM measurement pretty closely.\"), \"  It was just cut off in the webpage formating.  SMH.\"), mdx(\"p\", null, \"Lastly, based on the 8th cell not showing up, I verified that the dip switch settings match the manual's instructions for a 8 cell battery.  They did, and do.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/f844915fb0a82aeb0cb82c52c567a1e4/df51d/dip-settings.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"133.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAgP/xAAWAQEBAQAAAAAAAAAAAAAAAAABAgD/2gAMAwEAAhADEAAAAZ7FCaDZzHVUsblUHSj/xAAfEAABAwMFAAAAAAAAAAAAAAACAAEDBBETEhQiMUH/2gAIAQEAAQUCbknx312VQRADTrdSKeEZUdNYMRrxul//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFUR//EABYRAQEBAAAAAAAAAAAAAAAAAAAREv/aAAgBAgEBPwGIrT//xAAiEAACAAQGAwAAAAAAAAAAAAAAAQIREiEDICIyUYFBkaH/2gAIAQEABj8CurELhUUuDz6NS+myfZsYqm1STwn1yakk8n//xAAdEAEAAgICAwAAAAAAAAAAAAABABExUSFBgcHw/9oACAEBAAE/IXleMXBT3ssEqADHtQ6mW0EAPJ0DCaPjxL0EHEp2KQv50SekBWVP/9oADAMBAAIAAwAAABDUD/z/xAAWEQADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8QZZ//xAAYEQEAAwEAAAAAAAAAAAAAAAABABARMf/aAAgBAgEBPxB4SpiYn//EAB0QAAICAgMBAAAAAAAAAAAAAAERAEEhYTFRkYH/2gAIAQEAAT8QICDCOAdwBhBcW37rqMLDLMPtwpoAhRWaqHod8yPjBgTwauHkoAqqb8hl8RYjDsm/VBuhZheRNyzsZxuhCASAGJ//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"dip settings\",\n    \"title\": \"dip settings\",\n    \"src\": \"/static/f844915fb0a82aeb0cb82c52c567a1e4/4b190/dip-settings.jpg\",\n    \"srcSet\": [\"/static/f844915fb0a82aeb0cb82c52c567a1e4/e07e9/dip-settings.jpg 200w\", \"/static/f844915fb0a82aeb0cb82c52c567a1e4/066f9/dip-settings.jpg 400w\", \"/static/f844915fb0a82aeb0cb82c52c567a1e4/4b190/dip-settings.jpg 800w\", \"/static/f844915fb0a82aeb0cb82c52c567a1e4/e5166/dip-settings.jpg 1200w\", \"/static/f844915fb0a82aeb0cb82c52c567a1e4/b17f8/dip-settings.jpg 1600w\", \"/static/f844915fb0a82aeb0cb82c52c567a1e4/df51d/dip-settings.jpg 2400w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Still a mystery.\")), mdx(\"h3\", null, \"Update 2021-4-11 - Anomaly No More!\"), mdx(\"p\", null, \"REC responded and suggested that the high resistor values in the battery simulator might be interfering with the voltage measurements and suggested a lower resistance for the voltage divider components.  Before breaking out the soldering iron, I hacked together some components to reduce the voltage divider resistances down to ~90Ohms per cell.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/d2602/voltage-divider-low-r.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"75%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHLZGhuYhP/xAAbEAADAAIDAAAAAAAAAAAAAAAAAQMCBBESFP/aAAgBAQABBQJUabrwZYVHLq6a9jz3P//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AUf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwFX/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAEhAhEiUTFBkv/aAAgBAQAGPwLdzdLMJQkOY6k4fo//xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUFRcYHR/9oACAEBAAE/Id3PBqYNnYJfHNLzXyCqlpfruUsSHDlDkaf/2gAMAwEAAgADAAAAEK/f/8QAFhEBAQEAAAAAAAAAAAAAAAAAMQEQ/9oACAEDAQE/EIGP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERUWH/2gAIAQIBAT8QeslZ/8QAHhABAAICAgMBAAAAAAAAAAAAAQARIVFB8GFxkaH/2gAIAQEAAT8QH5W1Dy7uM0jKTrPupS2tCSjrrmFQFFCU8friYwCOJ8cJKua2En//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"voltage_divider_low_r\",\n    \"title\": \"voltage_divider_low_r\",\n    \"src\": \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/4b190/voltage-divider-low-r.jpg\",\n    \"srcSet\": [\"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/e07e9/voltage-divider-low-r.jpg 200w\", \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/066f9/voltage-divider-low-r.jpg 400w\", \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/4b190/voltage-divider-low-r.jpg 800w\", \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/e5166/voltage-divider-low-r.jpg 1200w\", \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/b17f8/voltage-divider-low-r.jpg 1600w\", \"/static/cf2c58a06fc6f0de03dd1dc2ef9ca621/d2602/voltage-divider-low-r.jpg 4032w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Problem solved.  All BMS measurements moved close in line with the DMM measurements.\")), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Measurement\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"DMM \", \"[V]\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"BMS \", \"[V]\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Delta \", \"[V]\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 8\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.248\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.252\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.004\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 7\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.229\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.234\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.005\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 6\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.238\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.24\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.002\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 5\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.231\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.234\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.003\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 4\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.251\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.252\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.001\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 3\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.243\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.246\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.003\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 2\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.258\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.258\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"0\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Cell 1\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.254\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"3.255\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.001\")), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Pack\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"25.95\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"25.97\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"-0.02\")))), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/static/744d7cdbdf92a74c9b10d2660d61968a/93a43/wifi-module-home-low-r.jpg\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"106.5%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIDBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAH0566MliJDUH//xAAcEAACAgIDAAAAAAAAAAAAAAABAgARAxIQFCH/2gAIAQEAAQUCbEs66xF0FWvGxEBqD2f/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AR//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAeEAABAwQDAAAAAAAAAAAAAAABAAIRAxAgIXGCkv/aAAgBAQAGPwIuL3jstvqelAJPKg4ai3//xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhMXH/2gAIAQEAAT8h6mNcYVpV7EShbqjSRUxO8H0bEw1Ql0zrP//aAAwDAQACAAMAAAAQIM8A/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxAf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxAf/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITFBUWGR/9oACAEBAAE/EHgcsAC3hyEsCyVpivYg7z7YE6ES11TWPE3xAbA1ki7kWocv2WtgV4T/2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"wifi_module_voltage_low_r\",\n    \"title\": \"wifi_module_voltage_low_r\",\n    \"src\": \"/static/744d7cdbdf92a74c9b10d2660d61968a/4b190/wifi-module-home-low-r.jpg\",\n    \"srcSet\": [\"/static/744d7cdbdf92a74c9b10d2660d61968a/e07e9/wifi-module-home-low-r.jpg 200w\", \"/static/744d7cdbdf92a74c9b10d2660d61968a/066f9/wifi-module-home-low-r.jpg 400w\", \"/static/744d7cdbdf92a74c9b10d2660d61968a/4b190/wifi-module-home-low-r.jpg 800w\", \"/static/744d7cdbdf92a74c9b10d2660d61968a/e5166/wifi-module-home-low-r.jpg 1200w\", \"/static/744d7cdbdf92a74c9b10d2660d61968a/b17f8/wifi-module-home-low-r.jpg 1600w\", \"/static/744d7cdbdf92a74c9b10d2660d61968a/93a43/wifi-module-home-low-r.jpg 1746w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n  \"), \"\\n    \")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"REC Q CAN Comms Voltage Sense Anomaly","cover":{"img":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/ef058cd6a546eb29115ff6958ab216c4/fae27/rec-q-can-comms-voltage-sense-anomaly.jpg","srcSet":"/static/ef058cd6a546eb29115ff6958ab216c4/6c903/rec-q-can-comms-voltage-sense-anomaly.jpg 756w,\n/static/ef058cd6a546eb29115ff6958ab216c4/44670/rec-q-can-comms-voltage-sense-anomaly.jpg 1512w,\n/static/ef058cd6a546eb29115ff6958ab216c4/fae27/rec-q-can-comms-voltage-sense-anomaly.jpg 3024w","sizes":"(min-width: 3024px) 3024px, 100vw"},"sources":[{"srcSet":"/static/ef058cd6a546eb29115ff6958ab216c4/dd945/rec-q-can-comms-voltage-sense-anomaly.webp 756w,\n/static/ef058cd6a546eb29115ff6958ab216c4/76fb3/rec-q-can-comms-voltage-sense-anomaly.webp 1512w,\n/static/ef058cd6a546eb29115ff6958ab216c4/7d916/rec-q-can-comms-voltage-sense-anomaly.webp 3024w","type":"image/webp","sizes":"(min-width: 3024px) 3024px, 100vw"}]},"width":3024,"height":4032}}}}}}},"pageContext":{"slug":"/blog/2021-4-10-rec-v-sense-anomaly/rec-q-can-comms-voltage-sense-anomaly/"}},"staticQueryHashes":["2882470331","3528462622","3692595610"]}